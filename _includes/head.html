<head>
  <title>
    {% if page.title == "Home" %}
      {{ site.title }} | {{ site.description }}
    {% else %}
      {{ page.title }} | {{ site.title }}
    {% endif %}
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <link rel="stylesheet" href="{{ site.github.url }}/assets/css/main.css">
  <link rel="stylesheet" href="{{ site.github.url }}/assets/css/syntax.css">
  <!-- Use Atom -->
  {% feed_meta %}
  <!-- Use RSS-2.0 -->
  <!--<link href="{{ site.github.url }}/rss-feed.xml" type="application/rss+xml" rel="alternate" title="{{ site.title }} | {{ site.description }}"/>
  //-->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quattrocento+Sans">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
    MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
      });
  </script>
  <!-- Google Analytics -->
  {% include google-analytics.html %}
  
  <!-- Copy code functionality -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Add copy buttons to all code blocks
      function addCopyButtons() {
        // Select only pre elements that haven't been processed yet
        const codeBlocks = document.querySelectorAll('pre:not(.code-processed)');
        
        codeBlocks.forEach(function(preElement) {
          // Mark as processed
          preElement.classList.add('code-processed');
          
          // Skip if it's already inside a code-container
          if (preElement.parentElement.classList.contains('code-container')) {
            return;
          }
          
          // Create container for code block and copy button
          const container = document.createElement('div');
          container.className = 'code-container';
          
          // Create copy button
          const copyButton = document.createElement('button');
          copyButton.className = 'copy-button';
          copyButton.innerHTML = 'Copy';
          copyButton.title = 'Copy code';
          
          // Wrap the pre element with container
          preElement.parentNode.insertBefore(container, preElement);
          container.appendChild(copyButton);
          container.appendChild(preElement);
          
          // Add click event
          copyButton.addEventListener('click', function() {
            const codeElement = preElement.querySelector('code') || preElement;
            const code = codeElement.textContent;
            
            navigator.clipboard.writeText(code).then(function() {
              // Change button text to indicate success
              copyButton.innerHTML = 'Copied!';
              copyButton.title = 'Copied!';
              
              // Reset after 2 seconds
              setTimeout(function() {
                copyButton.innerHTML = 'Copy';
                copyButton.title = 'Copy code';
              }, 2000);
            }).catch(function(err) {
              // Fallback for older browsers
              const textArea = document.createElement('textarea');
              textArea.value = code;
              document.body.appendChild(textArea);
              textArea.select();
              document.execCommand('copy');
              document.body.removeChild(textArea);
              
              copyButton.innerHTML = 'Copied!';
              copyButton.title = 'Copied!';
              
              setTimeout(function() {
                copyButton.innerHTML = 'Copy';
                copyButton.title = 'Copy code';
              }, 2000);
            });
          });
        });
      }
      
      // Initial call
      addCopyButtons();
      
      // Also run after a delay to catch dynamically loaded content
      setTimeout(addCopyButtons, 1000);
    });
  </script>
  
  <!-- Use Jekyll SEO plugin -->
  {% seo %}
</head>
